<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>YaCy '#[clientname]#': OAI-PMH source import list</title>
    #%env/templates/metas.template%#
    #(refresh)#::<meta http-equiv="REFRESH" content="6" />#(/refresh)#
    <script>
    <!--
    function setall(name, check){
        var selectForm = document.forms.namedItem(name);
        var count = selectForm.elements["num"].value;
        if (check) for(i = 0; i < count; i++) {
            if (selectForm.elements["item_" + i].checked) {
                check = false;
                break;
            }
        }
        for(i = 0; i < count; i++){
    	    selectForm.elements["item_" + i].checked = check;
        }
    }
    -->
    </script>
    <script src="/js/sorttable.js"></script>
  </head>
  <body>
    #(source)#::
    <h3>List of #[num]# OAI-PMH Servers</h3>
    <form action="IndexImportOAIPMH_p.html" target="_top" method="post" enctype="multipart/form-data" accept-charset="UTF-8" name="oaipmhimport">
    <p>
    <input type="hidden" name="num" value="#[num]#" />
    <input type="submit" name="loadrows" value="Load Selected Sources" />
    </p>
    <table cellpadding="2" cellspacing="1" >
      <tr class="TableHeader">
        <td><input type="checkbox" name="allswitch" onclick="setall(this.form.name, this.value)" /></td>
        <td>Source</td>
      </tr>
      #{table}#
      <tr class="TableCell#(dark)#Light::Dark#(/dark)#">
        <td align="left"><input type="checkbox" name="item_#[count]#" value="mark_#[source]#" /></td>
        <td>#[loadurl]#</td>
      </tr>
      #{/table}#
    </table>
    <p>
    <input type="submit" name="loadrows" value="Load Selected Sources" />
    </p>
    </form>
    #(/source)#
    
    #(import)#::
    <h3>Import List</h3>
    <table cellpadding="2" cellspacing="1" >
      <tr class="TableHeader">
        <td>Thread</td>
        <td>Source</td>
        <td>Processed<br />Chunks</td>
        <td>Imported<br />Records</td>
        <td>Complete at<br /># Records</td>
        <td>Speed<br />(records/second)</td>
      </tr>
      #{table}#
      <tr class="TableCell#(dark)#Light::Dark#(/dark)#">
        <td>#[thread]#</td>
        <td>#[source]#</td>
        <td>#[chunkCount]#</td>
        <td>#[recordsCount]#</td>
        <td>#[completeListSize]#</td>
        <td>#[speed]#</td>
      </tr>
      #{/table}#
    </table>
    #(/import)#
  </body>
</html>
