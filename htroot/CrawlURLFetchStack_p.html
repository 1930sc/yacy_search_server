<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>YaCy '#[clientname]#': URL Fetcher Stack Management</title>
    #%env/templates/metas.template%#
  </head>
  <body id="CrawlURLFetchStack_p">
    #%env/templates/header.template%#
    #%env/templates/submenuCrawlURLFetch.template%#
    <h2>Manage stack for remote URL fetches</h2>
    
    #(addedUrls)#::<span class="success">Added #[added]# URLs!</span>#(/addedUrls)#
    <form method="post" action="CrawlURLFetchStack_p.html" enctype="multipart/form-data">
      <fieldset><legend>Statistics</legend>
        <dl>
          <dt>Currently stacked URLs:</dt><dd>#[urlCount]#</dd>
          <dt>Totally fetched / added URLs:</dt><dd>#[totalFetched]# / #[totalAdded]#</dd>
          #{peers}# 
          <dt>Fetched from #[peer]#</dt><dd>#[amount]#</dd>#{/peers}# 
        </dl>
      </fieldset>
      
      <fieldset><legend>Settings</legend>
        <dl>
          <dt><label for="maxSize">Maximum URLs for each transfer</label>:</dt>
          <dd>
            <input type="text" name="maxSize" id="maxSize" value="#[maxSize]#" maxlength="3" size="3" />
            <input type="submit" name="setMaxSize" value="Set" />
            #(set)#::
            <span class="success">Set max. size for each transfer to #[value]#</span>::
            <span class="error">Setting max. size for each transfer to #[value]# was unsuccessful: may not be negative</span>#(/set)#
          </dd>
        </dl>
      </fieldset>
      
      <fieldset><legend>Add URLs to stack</legend>
          <dt><label for="shiftloc">Shift URLs from Local Crawler</label>:</dt>
          <dd>
            <input type="text" name="shiftloc" id="shiftloc" value="#[locurlsVal]#" size="5" maxlength="5" style="text-align: right;" />
            of <span class="tt">#[locurls]#</span> URLs
            <input type="submit" name="shiftlcq" value="Shift" />#(shiftloc)#::
            <span class="success">Shifted #[value]# URLs from Local Crawler Queue to URL Fetcher Stack (not bound: #[failed]#)</span>#(/shiftloc)#
          </dd>
          <dt><label for="shiftrem">Shift URLs from Remote Crawler</label>:</dt>
          <dd>
            <input type="text" name="shiftrem" id="shiftrem" value="#[remurlsVal]#" size="5" maxlength="5" style="text-align: right;" />
            of <span class="tt">#[remurls]#</span> URLs
            <input type="submit" name="shiftrcq" value="Shift" />#(shiftrem)#::
            <span class="success">Shifted #[value]# URLs from Remote Crawler Queue to URL Fetcher Stack (not bound: #[failed]#)</span>#(/shiftrem)#
          </dd>
          <dt><label for="upload">Upload URL-List</label>:</dt>
          <dd>
            <input type="file" name="upload" id="upload" /> #(uploadError)#::&nbsp;<span class="error">No file entered for upload</span>#(/uploadError)#<br />
            <input type="radio" name="uploadType" id="plain" value="plain" checked="checked" /> <label for="plain">Plain text, line-seperated</label><br />
            <input type="radio" name="uploadType" id="html" value="html" /> <label for="html">HTML file, links will be added</label><br />
            <input type="submit" name="subupload" value="Upload File" />
            #(upload)#::
            <span class="success">Added #[added]# and rejected #[failed]# URLs from uploaded file successfully</span>::
            <span class="error">An internal error occured processing the uploaded file: #[error]#</span>#(/upload)#
          </dd>
        </dl>
      </fieldset>
    </form>
    #%env/templates/footer.template%#
  </body>
</html>