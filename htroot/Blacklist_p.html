<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
<title>YaCy '#[clientname]#': Blacklist Manager</title>
#%env/templates/metas.template%#
</head>
<body marginheight="0" marginwidth="0" leftmargin="0" topmargin="0">
#%env/templates/header.template%#
<br><br>
<h2>Blacklist</h2>
<p>This function provides an URL filter to the proxy; any blacklisted URL is blocked
from being loaded. You can define several blacklists and activate them separately.
You may also provide your blacklist to other peers by sharing them; in return you may
collect blacklist entries from other peers.</p>


<table border="1" cellspacing="1" cellpadding="0">
<!-- blacklist selection -->
<form action="Blacklist_p.html" method="post" enctype="multipart/form-data">
<tr>
	<td colspan="3"  valign="top" class="TableHeader">&nbsp;</td>
</tr>
<tr>
	<td colspan="3">
			<table border="0" cellspacing="1" cellpadding="0" width="100%">
				<tr>
					<td class="TableCellDark">
						Edit list: 
						<select name="selectedListName" size="1">
						#{blackLists}#
							<option value="#[name]#" #(selected)#::selected#(/selected)#>#[name]# [#(shared)#not shared::shared#(/shared)#] #{active}# #[blTypeName]##{/active}#</option>
						#{/blackLists}#
						</select>
					</td>
					<td class="TableCellDark"><center>
						<input type="submit" name="selectList" value="select" #(disabled)#::disabled="disabled"#(/disabled)#/>
					</td>
					<td valign="top" align="left" rowspan="2" class="TableCellDark">
						<fieldset>
    						<legend>Activate this list for ...</legend>
    							<table>
	    						#{currentActiveFor}#
	    						<tr>
      							<td>#[blTypeName]#</td><td><input type="checkbox" name="activateList4#[blTypeName]#" value="on" #(checked)#checked::#(/checked)#/></td>
      							</tr>
      							#{/currentActiveFor}#
      							</table>
							<input type="submit" name="activateList" value="Enable/disable this list" #(disabled)#::disabled="disabled"#(/disabled)#/>       							
      					</fieldset>      									

						<input type="submit" name="shareList" value="Share/don't share this list" #(disabled)#::disabled="disabled"#(/disabled)#/><br />
						<input type="submit" name="deleteList" value="Delete this list" "#(disabled)#::disabled="disabled"#(/disabled)#/><br /> 
					</td>					
				</tr>
				<tr>
					<td  class="TableCellDark">
						New list:
						<input type="text" name="newListName">
					</td>					
					<td  class="TableCellDark"><center>
						<input type="submit" name="createNewList" value="create"></center>
					</td>											
				</tr>
			</table>
	</td>
</tr>
</form>


<!-- Blacklist configuration -->
<tr>
	<td colspan="3"  valign="top" class="TableHeader">
		<h3>Active list: <i>#[currentBlacklist]#</i>#(disabled)#::<font style="color:red;font-weight:bold">No blacklist selected</font>#(/disabled)#</h3>
	</td>
</tr>
<tr>
	<td rowspan="6">
		<form action="Blacklist_p.html" method="post" enctype="multipart/form-data">	
		<table border="0" cellspacing="1" cellpadding="0" width="100%">
		<tr>
			<td  class="TableCellDark">
				These are the domain name / path patterns in this blacklist:<br>
				You can select them here for deletion
			</td>
		</tr>			
		<tr>			
			<td class="TableCellLight">
					<input type="hidden" name="currentBlacklist" value="#[currentBlacklist]#">
					<select name="selectedEntry" size="8">
						<!--<option disabled>blocked Sites</option>-->
						#{Itemlist}#
						::
						<option value="#[item]#">#[item]#</option>
						#{/Itemlist}#
					</select>
					<p />
					<input type="submit" name="deleteBlacklistEntry" value="Delete URL pattern" #(disabled)#::disabled="disabled"#(/disabled)# />
			</td>
		</tr>
		<tr>
        	<td class="TableCellDark">
                Enter new domain name / path pattern in the form:
                <ul type="square">
                	<li>domain/fullpath</li>
                	<li>domain/.* or <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html">regexpr</a></li>
                	<li>*.domain/.* or <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html">regexpr</a></li>
                	<li>domain.*/.* or <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html">regexpr</a></li>
                	<li>*.sub.domain/.* or <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html">regexpr</a></li>
                	<li>sub.domain.*/.* or <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/regex/Pattern.html">regexpr</a></li>
                </ul>
			</td>
		</tr>
		<tr>
			<td  class="TableCellLight">
				<input type="text" name="newEntry" size="50"><p>
				<input type="submit" name="addBlacklistEntry" value="Add URL pattern" #(disabled)#::disabled="disabled"#(/disabled)#></p>
				
			</td>
		</tr>
		</table>
		</form>
	</td>
</tr>
<tr>	
	<!-- spacer between the two columns -->		
	<td class="TableHeader" rowspan="6">&nbsp;</td>	
</tr>

<!-- Blacklist import from other peer -->
<tr>
	<td class="TableCellDark">Import blacklist items from other YaCy peers:</td>
</tr>
<tr>
	<td class="TableCellLight">
		<form action="sharedBlacklist_p.html" method="get">
		<input type="hidden" name="currentBlacklist" value="#[currentBlacklist]#">
		Host: <select name="hash">
		#{otherHosts}#
		<option value="#[hash]#">#[name]#</option>
		#{/otherHosts}#
		</select>
		<p />
		<input type="submit" value="Load new blacklist items" #(disabled)#::disabled="disabled"#(/disabled)#/>
		</form>
	</td>
</tr>


<!-- blacklist import from url -->
<tr>
	<td class="TableCellDark">Import blacklist items from URL:</td>
</tr>
<tr>
	<td class="TableCellLight">
		<form action="sharedBlacklist_p.html" method="get">
		<input type="hidden" name="currentBlacklist" value="#[currentBlacklist]#">
		URL: <input type="text" name="url">
		<p>
		<input type="submit" value="Load new blacklist items" #(disabled)#::disabled="disabled"#(/disabled)#/>
		</form>			
	</td>		
</tr>	
		
		
<!-- blacklist import from file -->	
<tr>
	<td class="TableCellDark"><p>Import blacklist items from file:</td>
</tr>
<tr>
	<td class="TableCellLight">
		<form action="sharedBlacklist_p.html" method="get">	
		<input type="hidden" name="currentBlacklist" value="#[currentBlacklist]#">
		File: <input type="text" name="file">
		<p>
		<input type="submit" value="Load new blacklist items" #(disabled)#::disabled="disabled"#(/disabled)#/>		
		</form>
	</td>
</tr>
</table>
<p>

#(status)# <!-- 0: -->
::
<b>#[item]#</b> was removed from blacklist
::
<b>#[item]#</b> was added to the blacklist
#(/status)#


#%env/templates/footer.template%#
</body>
</html>
