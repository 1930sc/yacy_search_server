<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>YaCy '#[clientname]#': Crawl Profile Editor</title>
    #%env/templates/metas.template%#
  </head>
  <body id="IndexCreateWWWGlobalQueue">
    #%env/templates/header.template%#
    #%env/templates/submenuIndexCreate.template%#
    <h2>Crawl Profile Editor</h2>
    <p>
      Crawl profiles hold information about a specific URL which is internally used to perform the crawl it belongs to.
    </p>
    
    
<!-- crawl profile list -->
<fieldset><legend>Crawl Profile List</legend>
<table border="0" cellpadding="2" cellspacing="1">
  <colgroup>
  <col width="120" />
  <col />
  <col width="16" />
  <col width="60" />
  <col width="10" span="2" />
  <col />
  <col width="10" span="5" />
  </colgroup>
  <tr class="TableHeader"> 
    <td><strong>Crawl Thread</strong></td>
    <td><strong>Status</strong></td>
    <td><strong>Start URL</strong></td>
    <td><strong>Depth</strong></td>
    <td><strong>Must Match</strong></td>
    <td><strong>Must Not Match</strong></td>
    <td><strong>MaxAge</strong></td>
    <td><strong>Auto Filter Depth</strong></td>
    <td><strong>Auto Filter Content</strong></td>
    <td><strong>Max Page Per Domain</strong></td>
    <td><strong>Accept '?' URLs</strong></td>
    <td><strong>Fill Proxy Cache</strong></td>
    <td><strong>Local Text Indexing</strong></td>
    <td><strong>Local Media Indexing</strong></td>
    <td><strong>Remote Indexing</strong></td>
    <td><strong>Status / Action</strong></td>
  </tr>
  #{crawlProfiles}# 
  <tr class="TableCell#(dark)#Light::Dark#(/dark)#"> 
    <td>#[name]#</td>
    <td>#(status)#terminated::active#(/status)#</td>
    <td><a  href="#[startURL]#">#[startURL]#</a></td>
    <td>#[depth]#</td>
    <td>#[mustmatch]#</td>
    <td>#[mustnotmatch]#</td>
    <td>#[crawlingIfOlder]#</td>
    <td>#[crawlingDomFilterDepth]#</td>
    <td>#{crawlingDomFilterContent}##[item]#<br />#{/crawlingDomFilterContent}#</td>
    <td>#[crawlingDomMaxPages]#</td>
    <td>#(withQuery)#no::yes#(/withQuery)#</td>
    <td>#(storeCache)#no::yes#(/storeCache)#</td>
    <td>#(indexText)#no::yes#(/indexText)#</td>
    <td>#(indexMedia)#no::yes#(/indexMedia)#</td>
    <td>#(remoteIndexing)#no::yes#(/remoteIndexing)#</td>
    <td>#(terminateButton)#::
        <div style="text-decoration:blink">Running</div>
        <form action="CrawlProfileEditor_p.html" method="get" enctype="multipart/form-data">
        <input type="hidden" name="handle" value="#[handle]#" />
        <input type="submit" name="terminate" value="Terminate" />
        </form>
        #(/terminateButton)#
	    #(deleteButton)#::
	    Finished
        <form action="CrawlProfileEditor_p.html" method="get" enctype="multipart/form-data">
        <input type="hidden" name="handle" value="#[handle]#" />
        <input type="submit" name="delete" value="Delete" />
        </form>
        #(/deleteButton)#
	</td>
  </tr>
  #{/crawlProfiles}# 
</table>
#(existPassiveCrawls)#::
<form action="CrawlProfileEditor_p.html" method="post" enctype="multipart/form-data">
<input type="submit" name="deleteTerminatedProfiles" value="Delete finished crawls" />
</form>
#(/existPassiveCrawls)#
</fieldset>


<!-- crawl profile editor -->
    <form action="CrawlProfileEditor_p.html" method="post" enctype="multipart/form-data">
      <fieldset><legend>Select the profile to edit</legend>
        <select name="handle">#{profiles}# 
          <option value="#[handle]#"#(selected)#:: selected="selected"#(/selected)#>#[name]#</option>#{/profiles}# 
        </select>
        <input type="submit" name="edit" value="Edit profile" />
      </fieldset>
    </form>
    
    #(error)#::
    <p class="error">An error occured during editing the crawl profile: #[message]#</p>
    #(/error)#
    
    #(edit)#::
    <form action="/CrawlProfileEditor_p.html" method="post" enctype="multipart/form-data">
      <fieldset><legend>Edit Profile #[name]#</legend>
        <input type="hidden" name="handle" value="#[handle]#" />
        <dl>#{entries}# 
          <dt>#(readonly)#<label for="#[name]#">#[label]#</label>::#[label]##(/readonly)#</dt>
          <dd>#(readonly)# 
            <input id="#[name]#" name="#[name]#"
                   #(type)# type="checkbox"#(checked)#:: checked="checked"#(/checked)#::
                    type="text" value="#[value]#"::
                    type="text" value="#[value]#"#(/type)# />::
            <strong>#(type)##(checked)#false::true#(/checked)#::#[value]#::#[value]##(/type)#</strong>#(/readonly)# 
          </dd>#{/entries}# 
        <dt>&nbsp;</dt><dd><input type="submit" name="submit" value="Submit changes" /></dd>
        </dl>
      </fieldset>
    </form>
    #(/edit)#
    #%env/templates/footer.template%#
  </body>
</html>