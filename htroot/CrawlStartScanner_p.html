<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>YaCy '#[clientname]#': Network Scanner</title>
    #%env/templates/metas.template%#
    <script type="text/javascript">
    <!--
    function setall(name) {
        var selectForm = document.forms.namedItem(name);
        var count = selectForm.elements["num"].value;
        for (i = 0; i < count; i++) {
            if (selectForm.elements["item_" + i] == null) continue;
            selectForm.elements["item_" + i].checked = !selectForm.elements["item_" + i].checked;
        }
    }
    function disableSubmit() {
        document.getElementById('scanipSubmit').disabled=true;
        document.getElementById('scanhostSubmit').disabled=true;
        document.getElementById('scanintranetSubmit').disabled=true;
    }
    -->
    </script>
    <script type="text/javascript" src="/js/sorttable.js"></script>
  </head>
  <body id="IndexCreate">
    #%env/templates/header.template%#
    #%env/templates/submenuIndexCreate.template%#
    <h2>Network Scanner</h2>

    #(selectiprange)#::
    <p>
      YaCy can scan a network segment for available http, ftp and smb server.
      You must first select a IP range and then, after this range is scanned,
      it is possible to select servers that had been found for a full-site crawl.
    </p>
    #(/selectiprange)#
	
    #(noserverdetected)#::
    <p>
      No servers had been detected in the given IP range #[iprange]#. Please enter a different IP range for another scan.
    </p>
    #(/noserverdetected)#
    
    #(enterrange)#::
    <div><table border="0"><tr valign="top">
    <td width="270"><form onSubmit="document.getElementById('scanipinfo').innerHTML='Please wait...'; disableSubmit();" action="CrawlStartScanner_p.html" method="get">
    <fieldset height="30">
	  <legend><label for="servertable">Scan with given IP range</label></legend><br>
      <input type="text" name="ip4-0" value="#[ip4-0]#" size="3" maxlength="3" />.
      <input type="text" name="ip4-1" value="#[ip4-1]#" size="3" maxlength="3" />.
      <input type="text" name="ip4-2" value="#[ip4-2]#" size="3" maxlength="3" />.[1-254]
      <input type="hidden" name="scanip" value=""/>
      <input type="submit" id="scanipSubmit" name="scanipSubmit" value="Scan"/><br><br><div class="info" id="scanipinfo" style="text-decoration: blink;"></div>
    </fieldset></form></td>
    <td width="270"><form onSubmit="document.getElementById('scanhostinfo').innerHTML='Please wait...'; disableSubmit();" action="CrawlStartScanner_p.html" method="get">
    <fieldset>
	  <legend><label for="servertable">Scan range with given host name</label></legend><br>
      <input type="text" name="scanhost" value="#[host]#" size="28" maxlength="60" />
      <input type="submit" id="scanhostSubmit" name="scanhostSubmit" value="Scan" /><br><br><div class="info" id="scanhostinfo" style="text-decoration: blink;"></div>
    </fieldset></form></td>
    <td><form onSubmit="document.getElementById('scanintranetinfo').innerHTML='Please wait...'; disableSubmit();" action="CrawlStartScanner_p.html" method="get">
    <fieldset>
	  <legend><label for="servertable">Full Intranet Scan</label></legend>
	  #(intranetHint)#::<div class="info">Do not use intranet scan results, you are not in an intranet environment!</div>#(/intranetHint)#
      <input type="hidden" name="scanintranet" value=""/>
	  #[intranethosts]#&nbsp;<input type="submit" id="scanintranetSubmit" name="scanintranetSubmit" value="Scan" /><div class="info" id="scanintranetinfo" style="text-decoration: blink;"></div>
    </fieldset></form></td>
    </tr></table></div>
    #(/enterrange)#
    
	#(servertable)#::
	<p>
	  The following servers had been detected:
	</p>
	<form id="servertable" name="servertable" action="CrawlStartScanner_p.html" method="post" enctype="multipart/form-data" accept-charset="UTF-8" ><fieldset>
	  <legend><label for="servertable">Available server within the given IP range</label></legend>
      <table class="sortable" border="0" cellpadding="2" cellspacing="1">
        <tr class="TableHeader" valign="bottom">
          <td><input type="checkbox" name="allswitch" onclick="setall(this.form.name)" /></td>
          <td>Protocol</td>
          <td>IP</td>
          <td>URL</td>
          <td>Access</td>
          <td>Process</td>
        </tr>
        #{list}#
        <tr class="TableCellLight">
          <td align="left"><input type="checkbox" name="item_#[count]#" value="mark_#[pk]#" #(preselected)#::checked#(/preselected)#/></td>
          <td>#[protocol]#</td>
          <td><a href="#[url]#">#[ip]#</a></td>
          <td><a href="#[url]#">#[url]#</a></td>
          #(accessUnknown)#::<td class="info">unknown</td>#(/accessUnknown)#
          #(accessEmpty)#::<td class="info">empty</td>#(/accessEmpty)#
          #(accessGranted)#::<td class="commit">granted</td>#(/accessGranted)#
          #(accessDenied)#::<td class="error">denied</td>#(/accessDenied)#
          #(process)#<td class="info">not in index</td>::<td class="commit">indexed</td>#(/process)#
        </tr>
        #{/list}#
      </table>
      <p>
      <input type="hidden" name="num" value="#[num]#" />
      <input type="submit" name="crawl" value="Add Selected Servers to Crawler" />
      </p>
    </fieldset></form>
	#(/servertable)#
	

    #%env/templates/footer.template%#
  </body>
</html>
