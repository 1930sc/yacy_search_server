<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
  <title>YaCy '#[clientname]#': Performance Settings of Queues and Processes</title>
  #%env/templates/metas.template%#
  </head>
  <body id="PerformanceQueues">
  #%env/templates/header.template%#
  #%env/templates/submenuPerformance.template%#
  <h2>Performance Settings of Queues and Processes</h2>
  
  <p>
    <strong>Scheduled tasks overview and waiting time settings:</strong>
  </p>
  <form action="PerformanceQueues_p.html" method="post" enctype="multipart/form-data">
    <table border="0" cellpadding="2" cellspacing="1">
      <tr class="TableHeader" valign="bottom">
        <td>Thread</td>
        <td>Queue Size</td>
        <td colspan="2">Total<br />Block Time</td>
        <td colspan="2">Total<br />Sleep Time</td>
        <td colspan="2">Total<br />Exec Time</td>
        <td>Total<br />Cycles</td>
        <td>Idle<br />Cycles</td>
        <td>Busy<br />Cycles</td>
        <td>Short Mem<br />Cycles</td>
        <td>Sleep Time<br />per Cycle<br />(millis)</td>
        <td>Exec Time<br />per Busy-Cycle<br />(millis)</td>
        <td>Memoy Use<br />per Busy-Cycle<br />(kbytes)</td>
        <td>Delay between<br />idle loops</td>
        <td>Delay between<br />busy loops</td>
        <td>Minimum of<br />Required Memory</td>
        <td>Full Description</td>
      </tr>
      #{table}#
      <tr class="TableCellDark">
        <td align="left">#(hasurl)##[shortdescr]#::<a href="#[url]#">#[shortdescr]#</a>#(/hasurl)#</td>
        <td align="right">#[queuesize]#</td>
        <td align="right">#[blocktime]#&nbsp;sec</td>
        <td align="right">#[blockpercent]#%</td>
        <td align="right">#[sleeptime]#&nbsp;sec</td>
        <td align="right">#[sleeppercent]#%</td>
        <td align="right">#[exectime]#&nbsp;sec</td>
        <td align="right">#[execpercent]#%</td>
        <td align="right">#[totalcycles]#</td>
        <td align="right">#[idlecycles]#</td>
        <td align="right">#[busycycles]#</td>
        <td align="right">#[memscycles]#</td>
        <td align="right">#[sleeppercycle]#</td>
        <td align="right">#[execpercycle]#</td>
        <td align="right">#[memusepercycle]#</td>
        <td align="right"><input name="#[threadname]#_idlesleep" size="7" maxlength="7" value="#[idlesleep]#" /> milliseconds</td>
        <td align="right"><input name="#[threadname]#_busysleep" size="7" maxlength="7" value="#[busysleep]#" /> milliseconds</td>
        <td align="right"><input name="#[threadname]#_memprereq" size="7" maxlength="10" value="#[memprereq]#"#(disabled)#:: disabled="disabled"#(/disabled)# /> kbytes</td>
        <td align="left">#[longdescr]#</td>
      </tr>
      #{/table}#
      <tr class="TableCellLight">
        <td align="left" colspan="19">
        <input type="submit" name="submitdelay" value="Submit New Delay Values" />&nbsp;&nbsp;&nbsp;
        <input type="submit" name="submitdefault" value="Reset To Default Values" />&nbsp;&nbsp;&nbsp;
        Changes take effect immediately</td>
      </tr>
    </table>
  </form>
  
  <p>
    <strong>Cache Settings:</strong>
  </p>
  <form action="PerformanceQueues_p.html" method="post" enctype="multipart/form-data">
    <table border="0" cellpadding="5" cellspacing="1">
      <tr valign="top" class="TableHeader">
        <td>Cache Type</td>
        <td>DHT-Out</td>
        <td>DHT-In</td>
        <td>Description</td>
      </tr>
      <tr valign="top" class="TableCellDark">
        <td>URLs in RAM buffer:</td>
        <td colspan="2" align="center">#[urlCacheSize]#</td>
        <td>
          This is the size of the URL write buffer. Its purpose is to buffer incoming URLs
          in case of search result transmission and during DHT transfer.
        </td>
      </tr>
      <tr valign="top" class="TableCellDark">
        <td>Words in RAM cache:</td>
        <td>#[wordCacheWSize]#</td>
        <td>#[wordCacheKSize]#</td>
        <td>
        This is the current size of the word caches.
        The indexing cache speeds up the indexing process, the DHT cache holds indexes temporary for approval.
        The maximum of this caches can be set below.
        </td>
      </tr>
      <tr valign="top" class="TableCellDark">
        <td>Maximum URLs currently assigned<br />to one cached word:</td>
        <td>#[maxURLinWCache]#</td>
        <td>#[maxURLinKCache]#</td>
        <td>
        This is the maximum size of URLs assigned to a single word cache entry.
        If this is a big number, it shows that the caching works efficiently.
        </td>
      </tr>
      <tr valign="top" class="TableCellDark">
        <td>Maximum age of a word:</td>
        <td>#[maxAgeOfWCache]#</td>
        <td>#[maxAgeOfKCache]#</td>
        <td>
        This is the maximum age of a word in an index in minutes.
        </td>
      </tr>
      <tr valign="top" class="TableCellDark">
        <td>Minimum age of a word:</td>
        <td>#[minAgeOfWCache]#</td>
        <td>#[minAgeOfKCache]#</td>
        <td>
        This is the minimum age of a word in an index in minutes.
        </td>
      </tr>
      <tr valign="top" class="TableCellDark">
        <td>Maximum number of words in cache:</td>
        <td>
          <input name="wordOutCacheMaxCount" type="text" size="10" maxlength="100" value="#[wordOutCacheMaxCount]#" />
        </td>
        <td>
          <input name="wordInCacheMaxCount" type="text" size="10" maxlength="100" value="#[wordInCacheMaxCount]#" />
        </td>
        <td>
          This is is the number of word indexes that shall be held in the
          ram cache during indexing. When YaCy is shut down, this cache must be
          flushed to disc; this may last some minutes.
        </td>
      </tr>
      <tr valign="top" class="TableCellDark">
        <td>Initial space of words in cache:</td>
        <td>
          <input name="wordCacheInitCount" type="text" size="10" maxlength="100" value="#[wordCacheInitCount]#" />
        </td>
        <td>-</td>
        <td>
          This is is the init size of space for words in cache.
        </td>
      </tr>
      <tr valign="top" class="TableCellDark">
        <td>word-flush idle divisor:</td>
        <td colspan="2">
          <input name="wordFlushIdleDivisor" type="text" size="20" maxlength="100" value="#[wordFlushIdleDivisor]#" />
        </td>
        <td rowspan="2">
          The word flush divisor is applied when an indexing loop is executed.
          The divisor is used to divide the number of words in the cache; the result is the number of words that are flushed.
          The idleDivisor is used if the indexing queue is empty, the busyDivisor is used if the indexing queue contains at least one element.
        </td>
      </tr>
      <tr valign="top" class="TableCellDark">
        <td>word-flush busy divisor:</td>
        <td colspan="2">
          <input name="wordFlushBusyDivisor" type="text" size="20" maxlength="100" value="#[wordFlushBusyDivisor]#" />
        </td>
      </tr>
      <tr valign="top" class="TableCellLight">
        <td colspan="4">
        <input type="submit" name="cacheSizeSubmit" value="Enter New Cache Size" />
        Changes take effect immediately</td>
      </tr>
    </table>
  </form>
  
  <p>
    <strong>Thread pool settings:</strong>
  </p>
  <form action="PerformanceQueues_p.html" method="post" enctype="multipart/form-data">
    <table border="0" cellpadding="2" cellspacing="1">
      <colgroup>
        <col width="150" />
        <col width="80" span="5" />
        <col />
      </colgroup>
      <tr class="TableHeader" valign="bottom">
        <td>Thread Pool</td>
        <td>maximum Active</td>
        <td>maximum Idle</td>
        <td>minimum Idle</td>
        <td>current Active</td>
        <td>current Idle</td>
        <td>Full Description</td>
      </tr>
      #{pool}#
      <tr class="TableCellDark">
        <td align="left">#[name]#</td>
        <td align="right"><input name="#[name]#_maxActive" type="text" size="8" maxlength="8" value="#[maxActive]#" /></td>
        <td align="right"><input name="#[name]#_maxIdle" type="text" size="8" maxlength="8" value="#[maxIdle]#" /></td>
        <td align="right"><input name="#[name]#_minIdle" type="text" size="8" maxlength="8" value="#[minIdle]#" #(minIdleConfigurable)#disabled="disabled"::#(/minIdleConfigurable)# /></td>
        <td align="right">#[numActive]#</td>
        <td align="right">#[numIdle]#</td>
        <td align="left"></td>
      </tr>
      #{/pool}#
      <tr class="TableCellLight">
        <td align="left" colspan="7">
        <input type="submit" name="poolConfig" value="Enter new Threadpool Configuration" />
        Changes take effect immediately</td>
      </tr>
    </table>
  </form>
  
  <form action="PerformanceQueues_p.html" method="post" enctype="multipart/form-data">
    <fieldset><legend>YaCy Priority Settings</legend>
      <dl>
        <dt><label for="priority">YaCy Process Priority</label>:</dt>
        <dd><select id="priority" name="YaCyPriority">
          <option value="0"#(priority_normal)#:: selected="selected"#(/priority_normal)#>Normal</option>
          <option value="10"#(priority_below)#:: selected="selected"#(/priority_below)#>Below normal</option>
          <option value="20"#(priority_low)#:: selected="selected"#(/priority_low)#>Idle</option>
        </select></dd>
        <dt><input type="submit" name="PrioritySubmit" value="Set new Priority" /></dt>
        <dd>Changes take effect after <strong>restart</strong> of YaCy</dd>
      </dl>
    </fieldset>
  </form>
  
  <form action="PerformanceQueues_p.html" method="post" enctype="multipart/form-data">
    <fieldset><legend>Proxy Performance Settings</legend>
      <p>
        This is the time that the crawler idles when the proxy is accessed. The delay is extended by this time
        each time the proxy is accessed afterwards. This shall improve performance of the proxy throughput.
        (current delta is #[onlineCautionDelayCurrent]# milliseconds since last proxy access.)
      </p>
      <dl>
        <dt><label for="onlineCautionDelay">Online Caution Delay (milliseconds)</label>:</dt>
        <dd><input id="onlineCautionDelay" name="onlineCautionDelay" type="text" size="20" maxlength="100" value="#[onlineCautionDelay]#" /></dd>
        <dt><input type="submit" name="proxyControlSubmit" value="Enter New Parameters" /></dt>
        <dd>Changes take effect immediately</dd>
      </dl>
    </fieldset>
  </form>
  
  #%env/templates/footer.template%#
  </body>
</html>
